<section class="team" id="team">
  <!-- Background -->
  <div class="team__bg">
    <div class="team__bg-gradient"></div>
    <div class="team__bg-grid"></div>
    <div class="team__bg-blob team__bg-blob--1"></div>
    <div class="team__bg-blob team__bg-blob--2"></div>
  </div>

  <div class="team__container">
    <!-- Header -->
    <div class="team__header">
      <span class="team__badge">Unser Team</span>
      <h2 class="team__title">
        Die <span class="text-gradient">KÃ¶pfe</span> hinter mind.slam
      </h2>
      <p class="team__subtitle">
        Drei Studenten mit einer gemeinsamen Vision: Das Lernen fÃ¼r alle Studierenden revolutionieren.
      </p>
    </div>

    <!-- Team Cards -->
    <div class="team__grid">
      @for (member of teamMembers; track member.name; let i = $index) {
        <div
          class="team-card"
          #teamCard
          [style.animation-delay]="(i * 0.15) + 's'"
          [class.team-card--founder]="i === 0"
        >
          <!-- Card Background -->
          <div class="team-card__bg"></div>

          <!-- Decorative Elements -->
          <div class="team-card__decoration">
            <div class="team-card__decoration-circle"></div>
            <div class="team-card__decoration-dots">
              @for (dot of [1,2,3,4,5,6]; track dot) {
                <span class="dot"></span>
              }
            </div>
          </div>

          <!-- Image Section -->
          <div class="team-card__image-section">
            <div class="team-card__image-wrapper">
              <div class="team-card__image-ring"></div>
              <div class="team-card__image-glow"></div>
              <img
                [src]="member.image"
                [alt]="member.name"
                class="team-card__image"
              >
            </div>
            <!-- Status Badge -->
            <div class="team-card__status">
              <span class="team-card__status-dot"></span>
              <span class="team-card__status-text">{{ member.focus }}</span>
            </div>
          </div>

          <!-- Content -->
          <div class="team-card__content">
            <h3 class="team-card__name">{{ member.name }}</h3>
            <p class="team-card__role">{{ member.role }}</p>

            <!-- Skills -->
            <div class="team-card__skills">
              @for (skill of member.skills; track skill) {
                <span class="skill-tag">{{ skill }}</span>
              }
            </div>

            <p class="team-card__description">{{ member.description }}</p>

            <!-- Social Links -->
            <div class="team-card__social">
              @if (member.linkedin) {
                <a
                  [href]="member.linkedin"
                  target="_blank"
                  rel="noopener noreferrer"
                  class="team-card__social-link team-card__social-link--linkedin"
                  aria-label="LinkedIn Profil"
                >
                  <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                  </svg>
                </a>
              }
              @if (member.email) {
                <a
                  [href]="'mailto:' + member.email"
                  class="team-card__social-link team-card__social-link--email"
                  aria-label="E-Mail senden"
                >
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                    <polyline points="22,6 12,13 2,6"/>
                  </svg>
                </a>
              }
            </div>
          </div>

          <!-- Hover Overlay -->
          <div class="team-card__overlay"></div>
        </div>
      }
    </div>

    <!-- Join CTA -->
    <div class="team__join">
      <div class="team__join-card">
        <div class="team__join-icon">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"/>
            <line x1="12" y1="8" x2="12" y2="16"/>
            <line x1="8" y1="12" x2="16" y2="12"/>
          </svg>
        </div>
        <div class="team__join-content">
          <h3 class="team__join-title">Werde Teil des Teams!</h3>
          <p class="team__join-text">
            Du hast Lust, mit uns das Lernen zu revolutionieren? Wir suchen immer nach motivierten Talenten.
          </p>
        </div>
        <button (click)="openModal()" class="team__join-button">
          <span>Bewirb dich</span>
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Application Modal -->
  @if (isModalOpen) {
    <div class="application-modal" (click)="closeModal()">
      <div class="application-modal__content" (click)="$event.stopPropagation()">
        <button class="application-modal__close" (click)="closeModal()">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 6L6 18M6 6l12 12"/>
          </svg>
        </button>

        <div class="application-modal__header">
          <span class="application-modal__icon">ðŸš€</span>
          <h3 class="application-modal__title">Bewirb dich bei mind.slam</h3>
          <p class="application-modal__subtitle">Werde Teil unserer Mission!</p>
        </div>

        @if (submitSuccess) {
          <div class="application-modal__success">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
              <polyline points="22 4 12 14.01 9 11.01"/>
            </svg>
            <p>Bewerbung erfolgreich gesendet!</p>
            <span>Wir melden uns bei dir.</span>
          </div>
        } @else {
          <form (ngSubmit)="submitApplication()" class="application-modal__form">
            <div class="application-modal__field">
              <label for="app-name">Name *</label>
              <input type="text" id="app-name" [(ngModel)]="applicationForm.name" name="name" required placeholder="Dein vollstÃ¤ndiger Name">
            </div>

            <div class="application-modal__field">
              <label for="app-email">E-Mail *</label>
              <input type="email" id="app-email" [(ngModel)]="applicationForm.email" name="email" required placeholder="deine.email@beispiel.de">
            </div>

            <div class="application-modal__field">
              <label for="app-position">Position / Bereich</label>
              <select id="app-position" [(ngModel)]="applicationForm.position" name="position">
                <option value="">WÃ¤hle einen Bereich...</option>
                <option value="Entwicklung (Flutter/Mobile)">Entwicklung (Flutter/Mobile)</option>
                <option value="Entwicklung (Backend/AI)">Entwicklung (Backend/AI)</option>
                <option value="Entwicklung (Web/Frontend)">Entwicklung (Web/Frontend)</option>
                <option value="Design (UI/UX)">Design (UI/UX)</option>
                <option value="Marketing & Growth">Marketing & Growth</option>
                <option value="Content & Redaktion">Content & Redaktion</option>
                <option value="Sonstiges">Sonstiges</option>
              </select>
            </div>

            <div class="application-modal__field">
              <label for="app-motivation">Warum mind.slam? *</label>
              <textarea id="app-motivation" [(ngModel)]="applicationForm.motivation" name="motivation" required rows="4" placeholder="ErzÃ¤hl uns, warum du Teil des Teams werden mÃ¶chtest..."></textarea>
            </div>

            <div class="application-modal__field">
              <label for="app-linkedin">LinkedIn Profil (optional)</label>
              <input type="url" id="app-linkedin" [(ngModel)]="applicationForm.linkedin" name="linkedin" placeholder="https://linkedin.com/in/dein-profil">
            </div>

            @if (submitError) {
              <div class="application-modal__error">
                Ein Fehler ist aufgetreten. Bitte versuche es erneut.
              </div>
            }

            <button type="submit" class="application-modal__submit" [disabled]="isSubmitting">
              @if (isSubmitting) {
                <span>Wird gesendet...</span>
              } @else {
                <span>Bewerbung absenden</span>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                </svg>
              }
            </button>
          </form>
        }
      </div>
    </div>
  }
</section>
